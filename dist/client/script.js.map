{"version":3,"sources":["../../client/script.js"],"names":["window","onload","tendersData","undefined","sortedTendersData","getList","data","callback","server","fetch","then","response","json","catch","console","log","clearTable","document","getElementById","innerHTML","searchButton","searchInput","clearSearchInput","amountTh","pDate","aDate","$","click","e","attr","Date","toLocaleDateString","toLocaleTimeString","encodeURIComponent","html","addEventListener","event","preventDefault","keyCode","sortTenderList","sortByAmount","drawTable","searchInTenderList","value","sortByDatePublished","sortByAuctionDate","onclick","sort","search","arr","Array","isArray","forEach","String","prototype","replaceAll","target","replacement","split","join","str","JSON","stringify","Object","values","el","toLowerCase","toString","searchStr","length","push","indexOf","tBody","createTr","dataToBeSorted","map","datePublished","a","b","data1","data2","startDate","Number","parseInt","amount","createTd","className","link","cssText","createElement","classList","add","openInNewTab","style","createUlTD","td","ul","li","appendChild","setColorOfTr","status","tr","tenderID","name","replace","title","tenderers","suppliers","currency","items","classification_ids","historyList","keys","history","statueEnum","url","win","open","focus"],"mappings":"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","file":"script.js","sourcesContent":["window.onload = () => {\n    let tendersData = undefined;\n    let sortedTendersData = undefined;\n\n    getList(function (data) {\n        if (data) {\n            tendersData = data;\n        }\n    });\n\n    function getList(callback) {\n        // const server = 'http://localhost:8080/tenders';\n        const server = 'https://prozorroanalytics.herokuapp.com/tenders';\n        fetch(server)\n            .then(response => response.json())\n            .then(json => {\n                callback(json);\n            })\n            .catch(console.log);\n    }\n\n    function clearTable() {\n        document.getElementById('tBody').innerHTML = '';\n    }\n\n    const searchButton = document.getElementById('searchButton');\n    const searchInput = document.getElementById('searchInput');\n    const clearSearchInput = document.getElementById('clearSearchButton');\n    const amountTh = document.getElementById('amountTh');\n    const pDate = document.getElementById('pDate');\n    const aDate = document.getElementById('aDate');\n\n    $(\"#btnExport\").click(function (e) {\n        $(this).attr({\n            'download': `ProzorroAnalytics_${new Date().toLocaleDateString()}_${new Date().toLocaleTimeString()}.xls`,\n            'href': 'data:application/xls;charset=utf-8,' + encodeURIComponent($('#dvData').html())\n        })\n        /*$.ajax({\n            url: 'data:' + encodeURIComponent($('#dvData').html()),\n            dataType: \"application/octet-stream\",\n            success: function(data){\n                $(\"#btnExport\").attr({\n                    \"value\": \"Download\",\n                    \"href\": URL.createObjectURL(new Blob([data], {\n                        type: \"application/octet-stream\"\n                    })),\n                    \"download\": \"outputFile.xls\"\n                });\n            }\n        });*/\n\n    });\n\n    searchInput.addEventListener(\"keyup\", function (event) {\n        event.preventDefault();\n        if (event.keyCode === 13) {\n            searchButton.click();\n        }\n    });\n\n    searchButton.addEventListener('click', function () {\n        sortTenderList(sortByAmount, function (data) {\n            drawTable(searchInTenderList(data, searchInput.value));\n        });\n    });\n\n    amountTh.addEventListener('click', function () {\n        sortTenderList(sortByAmount, function (data) {\n            drawTable(searchInTenderList(data, searchInput.value));\n        });\n    });\n\n    pDate.addEventListener('click', function () {\n        sortTenderList(sortByDatePublished, function (data) {\n            drawTable(searchInTenderList(data, searchInput.value));\n        });\n    });\n\n    aDate.addEventListener('click', function () {\n        sortTenderList(sortByAuctionDate, function (data) {\n            drawTable(searchInTenderList(data, searchInput.value));\n        });\n    });\n\n    clearSearchInput.onclick = function () {\n        searchInput.value = '';\n        sortTenderList(sortByAmount, function (data) {\n            drawTable(searchInTenderList(data, searchInput.value));\n        });\n    };\n\n    function sortTenderList(sort, callback) {\n        if (tendersData) {\n            if (typeof sort === 'function') {\n                sortedTendersData = sort(tendersData);\n                callback(sortedTendersData);\n            } else {\n                sortedTendersData = sortByAmount(sortedTendersData);\n                callback(sortedTendersData);\n            }\n\n        } else getList(function (data) {\n            if (data) {\n                sortTenderList(sort, callback);\n            }\n        });\n    }\n\n    function searchInTenderList(data, search) {\n        let arr = [];\n        if (data) {\n            if (Array.isArray(data)) {\n                data.forEach(el => {\n                    /* if (Object.values(el).join('').toLowerCase().indexOf(search.toLowerCase()) !== -1) {\n                         arr.push(el);\n                     }*/\n                    String.prototype.replaceAll = function (target, replacement) {\n                        return this.split(target).join(replacement);\n                    };\n                    const str = JSON.stringify(Object.values(el)).toLowerCase().replaceAll(' ', '').replaceAll('\\\"', '').toString();\n                          const searchStr = JSON.stringify(search).toLowerCase().replaceAll(' ', '').replaceAll('\\\"', '').toString();\n                    if (search.length === 0) {\n                        arr.push(el);\n                    } else {\n                        if (str.indexOf(searchStr) !== -1) {\n                            arr.push(el)\n                        }\n                    }\n                });\n            }\n        }\n        return arr;\n    }\n\n\n    function drawTable(data) {\n        clearTable();\n        const tBody = document.getElementById('tBody');\n        data.forEach(el => createTr(el, tBody));\n    }\n\n    function sortByDatePublished(data) {\n        const dataToBeSorted = data.map(el => {\n            if (el.datePublished === undefined) {\n                el.datePublished = null;\n                return el;\n            } else return el;\n        });\n        return dataToBeSorted.sort((a, b) => {\n            let data1 = new Date(a.datePublished);\n            let data2 = new Date(b.datePublished);\n            if (data1 < data2) {\n                return 1;\n            }\n            if (data1 > data2) {\n                return -1;\n            }\n            return 0;\n        });\n    }\n    \n    function sortByAuctionDate(data) {\n        const dataToBeSorted = data.map(el => {\n            if (el.startDate === undefined) {\n                el.startDate = null;\n                return el;\n            } else return el;\n        });\n        return dataToBeSorted.sort((a, b) => {\n            let data1 = new Date(a.startDate);\n            let data2 = new Date(b.startDate);\n            if (data1 < data2) {\n                return 1;\n            }\n            if (data1 > data2) {\n                return -1;\n            }\n            return 0;\n        });\n    }\n\n    function sortByAmount(data) {\n        const dataToBeSorted = data;\n        return dataToBeSorted.sort((a, b) => {\n            const data1 = Number.parseInt(a.amount);\n            const data2 = Number.parseInt(b.amount);\n            if (data1 < data2) {\n                return 1;\n            }\n            if (data1 > data2) {\n                return -1;\n            }\n            return 0;\n        });\n    }\n\n\n    const createTd = (data, className, link, cssText) => {\n        const el = document.createElement('td');\n        if (className) {\n            el.classList.add(className);\n        }\n        if (link) {\n            el.addEventListener('click', () => openInNewTab(link));\n        }\n        if (cssText) {\n            el.style.cssText = cssText;\n        }\n        if (!data) el.innerHTML = ''; else el.innerHTML = data;\n        el.addEventListener('dblclick', function () {\n            searchInput.value = el.innerHTML;\n            searchButton.click();\n        });\n        return el;\n    };\n\n    const createUlTD = (data, cssText) => {\n        if (Array.isArray(data)) {\n            const td = document.createElement('td');\n            td.style.cssText = cssText;\n            const ul = document.createElement('ul');\n            data.forEach(el => {\n                const li = document.createElement('li');\n                li.innerHTML = el;\n                li.addEventListener('dblclick', function () {\n                    searchInput.value = li.innerHTML;\n                    searchButton.click();\n                });\n                ul.appendChild(li);\n            });\n            td.appendChild(ul);\n            return td;\n        } else return createTd(data, false, false, `background-color: ${setColorOfTr(data.status)}`);\n\n    };\n\n    const createTr = (data, tBody) => {\n        const tr = document.createElement('tr');\n        let className = 'default';\n        tr.classList.add(className);\n        tr.appendChild(createTd(data.tenderID, 'href', `https://prozorro.gov.ua/tender/${data.tenderID}`, `background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createTd(data.name, false, false, `background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createTd(Number.parseInt(data.amount, 0).toString().replace(/(\\d{1,3})(?=((\\d{3})*([^\\d]|$)))/g, \" $1 \").replace('.', ',').replace(' ,', ',').replace(', ', ','), false, false, `text-align: end; background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createTd(data.title, false, false, `background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createTd(data.status, false, false, `background-color: ${setColorOfTr(data.status)}`));\n        if (data.datePublished) {\n            tr.appendChild(createTd(new Date(data.datePublished).toLocaleDateString(), false, false, `text-align: center; background-color: ${setColorOfTr(data.status)}`));\n        } else {\n            tr.appendChild(createTd('', false, false, `background-color: ${setColorOfTr(data.status)}`));\n        }\n        if (data.startDate) {\n            tr.appendChild(createTd(new Date(data.startDate).toLocaleDateString(), false, false, `background-color: ${setColorOfTr(data.status)}`));\n        } else {\n            tr.appendChild(createTd('', false, false, `background-color: ${setColorOfTr(data.status)}`));\n        }\n        tr.appendChild(createUlTD(data.tenderers, `background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createUlTD(data.suppliers, `background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createTd(data.currency, false, false, `text-align: center; background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createUlTD(data.items, `background-color: ${setColorOfTr(data.status)}`));\n        tr.appendChild(createUlTD(data.classification_ids, `background-color: ${setColorOfTr(data.status)}`));\n        const historyList = Object.keys(data.history).map(el => {\n            if (typeof data.history[el] === 'object') {\n                return `${el} : ${Object.values(data.history[el])}`\n            } else return `${el} : ${data.history[el]}`;\n        });\n        tr.appendChild(createUlTD(historyList, `background-color: ${setColorOfTr(data.status)}`));\n        tBody.appendChild(tr);\n    };\n\n};\n\nfunction setColorOfTr(status) {\n    let statueEnum = {\n        'Переговоры': 'lightgreen',\n        'Период уточнений': 'lightgreen',\n        'Ожидание предложений': 'lightgreen',\n        'Период аукциона': 'lightcyan',\n        'Квалификация победителя': 'lightcyan',\n        'Квалификация/Переквалификация': 'lightcyan',\n        'Преквалификация/Период оспариваний': 'lightcyan',\n        'Предложения рассмотрены': 'greenyellow',\n        'Закупка не состоялась': 'lightpink',\n        'Закупка закончена': 'lightgrey',\n        'Закупка отменена': 'lightpink'\n    };\n    return statueEnum[status];\n}\n\nfunction openInNewTab(url) {\n    const win = window.open(url, '_blank');\n    win.focus();\n}\n"]}