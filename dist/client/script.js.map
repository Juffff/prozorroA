{"version":3,"sources":["../../client/script.js"],"names":["window","onload","searchButton","document","getElementById","searchInput","onclick","innerHTML","server","fetch","then","response","json","tBody","forEach","Object","values","el","join","toLowerCase","indexOf","value","createTr","catch","console","log","createTd","data","className","link","createElement","classList","add","addEventListener","openInNewTab","tr","appendChild","tenderID","name","amount","title","status","startDate","Date","toLocaleDateString","tenderers","toString","suppliers","currency","valueAddedTaxIncluded","items","classification_ids","url","win","open","focus"],"mappings":"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","file":"script.js","sourcesContent":["window.onload = () => {\n\n    const searchButton = document.getElementById('searchButton');\n    const searchInput = document.getElementById('searchInput');\n\n    searchButton.onclick = function () {\n        document.getElementById('tBody').innerHTML = '';\n        const server = 'http://localhost:8080/';\n        fetch(server)\n            .then(response => response.json())\n            .then(json => {\n                    const tBody = document.getElementById('tBody');\n                    json.forEach(el => {\n                        if (Object.values(el).join('').toLowerCase().indexOf(searchInput.value.toLowerCase()) !== -1) {\n                            createTr(el, tBody);\n                        }\n                    });\n                }\n            )\n            .catch(console.log);\n    };\n\n    const createTd = (data, className, link) => {\n        const el = document.createElement('td');\n        if (className) {\n            el.classList.add(className);\n        }\n        if (link) {\n            el.addEventListener('click', () => openInNewTab(link));\n        }\n        if (!data) el.innerHTML = ''; else el.innerHTML = data;\n        return el;\n    };\n\n    const createTr = (data, tBody) => {\n        const tr = document.createElement('tr');\n\n        let className = 'default';\n\n        /* if(data.status === 'Завершена закупівля (завершена)'){\n             className = 'info';\n         }\n         if(data.status === 'Закупівля не відбулась (не відбулась)'){\n             className = 'warning';\n         }\n         if(data.status === 'Відмінена закупівля (відмінена)'){\n             className = 'danger';\n         }\n         if(data.status === 'Пропозиції розглянуто (розглянуто)'){\n             className = 'primary';\n         }*/\n\n        tr.classList.add(className);\n /*       const tdA = createTd();\n        const a = document.createElement('a');\n        a.setAttribute('href', `https://prozorro.gov.ua/tender/${data.tenderID}`);\n        a.innerHTML = data.tenderID;\n        tdA.appendChild(a);\n        tr.appendChild(tdA);*/\n        tr.appendChild(createTd(data.tenderID, 'href', `https://prozorro.gov.ua/tender/${data.tenderID}`));\n        tr.appendChild(createTd(data.name));\n        tr.appendChild(createTd(data.amount));\n        tr.appendChild(createTd(data.title));\n        tr.appendChild(createTd(data.status));\n        if (data.startDate) {\n            tr.appendChild(createTd(new Date(data.startDate).toLocaleDateString()));\n        } else {\n            tr.appendChild(createTd(''));\n        }\n        tr.appendChild(createTd(data.tenderers.join('; ').toString()));\n        tr.appendChild(createTd(data.suppliers.join('; ').toString()));\n        tr.appendChild(createTd(data.currency));\n        tr.appendChild(createTd(data.valueAddedTaxIncluded ? 'С НДС' : 'Без НДС'));\n        tr.appendChild(createTd(data.items.join('; ').toString()));\n        tr.appendChild(createTd(data.classification_ids.join('; ').toString()));\n\n        tBody.appendChild(tr);\n    };\n\n};\n\nfunction openInNewTab(url) {\n    const win = window.open(url, '_blank');\n    win.focus();\n}"]}